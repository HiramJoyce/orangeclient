<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style type="text/css">
        @import url("lib/element-ui/theme-chalk/index.css");
        body {
            margin: 0
        }
        .el-header {
            background-color: #B3C0D1;
            color: #333;
            line-height: 60px;
        }
        .el-aside {
            color: #fff;
        }
        .el-menu-item i {
            color: #fff;
        }
        .el-menu-item:hover {
            background-color: "red"
        }
        .el-menu-item-active{
            background: green !important;
        }
        .el-menu-item-not-active {
            background-color: green;
        }
    </style>
</head>
<body>
<script src="lib/vue/vue.js"></script>
<script src="lib/element-ui/index.js"></script>
<div id="app">
    <el-container>
        <el-aside :style="{'background-color': '#1e3799', width: isCollapse ? '65px' : '200px', height: '100vh', position: 'fixed'}">
            <el-menu
                    @select="selectItem"
                    background-color="#1e3799"
                    text-color="#fff"
                    active-text-color="#ffd04b"
                    :collapse-transition=false
                    class="el-menu-vertical-demo"
                    :collapse="isCollapse"
                    style="border-right: none">
                <el-menu-item :class="change(1)" index="1">
                    <i class="el-icon-finished"></i>
                    <span slot="title">Execute</span>
                </el-menu-item>
                <el-menu-item :class="change(2)" index="2">
                    <i class="el-icon-monitor"></i>
                    <span slot="title">Host & Group</span>
                </el-menu-item>
                <el-menu-item :class="change(3)" index="3">
                    <i class="el-icon-s-operation"></i>
                    <span slot="title">Scripts</span>
                </el-menu-item>
                <el-menu-item :class="change(4)" index="4">
                    <i class="el-icon-odometer"></i>
                    <span slot="title">Dashboard</span>
                </el-menu-item>
            </el-menu>

            <el-button style="margin-left: 24px; font-size: 18px; position: fixed; bottom: 0; color: #fff" type="text" @click="toggle()">
                <i :class="{ 'el-icon-arrow-right': isCollapse, 'el-icon-arrow-left': !isCollapse }"></i>
            </el-button>
        </el-aside>
        <el-main :style="{'margin-left': isCollapse ? '65px' : '200px', height: '100vh', padding: 0}">
            <iframe id="iframe" style="border: none; width: 100%; height: 100%" :src="activeUrl"></iframe>
        </el-main>
    </el-container>
</div>
<script>
    var Main = {
        data() {
            return {
                isCollapse: false,
                activeIndex: 1,
                activeUrl: 'console.html',
                paths: {
                    1: 'console.html',
                    2: 'hostgroup.html',
                    3: 'scripts.html',
                    4: 'dashboard.html'
                }
            }
        },
        methods: {
            change (index) {
                return this.activeIndex==index?'el-menu-item-active':'el-menu-item-not-active'
            },
            toggle () {
                this.isCollapse = !this.isCollapse
            },
            selectItem (index) {
                if (this.activeUrl == this.paths[index]) {
                    document.getElementById('iframe').contentWindow.location.reload()
                } else {
                    this.activeIndex = index
                    this.activeUrl = this.paths[index]
                }
            }
        }
    };
    var Ctor = Vue.extend(Main)
    new Ctor().$mount('#app')
</script>
</body>
</html>